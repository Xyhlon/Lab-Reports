%! TeX program = lualatex
%---------------------------ALLGEMEINE IMPORTS-------------------------------------
\documentclass[12pt,english,ngerman]{scrartcl}

\input{./input/shared_preamble.tex}

\addbibresource{schaltnetze.bib}
    % Kopfzeile
\ihead{SS22\\01.06.2022}
\chead{\textsc{Hinterleitner} Michael - 12002411 \\ \textsc{Philipp} Maximilian - 11839611}
\ohead{LU ECM-\\ Digitale Schaltungen}
    % Fußzeile
%--------------------------------------AB HIER DOKUMENT---------------------------------------------
\begin{document}
\includepdf{deckblatt4.pdf}
\tableofcontents
\newpage


%\section{Aufgabenstellung}\label{sec:Aufgabenstellung}

% Die nachfolgende Aufgabenstellung wurde von den Laborbetreuern bereitgestellt
% und beinhaltet sowohl Angaben zur Vorbereitung als auch zur praktischen
% Durchführung der Übung:

% zu 1: Aufgabenstellung Das vor der Übung verteilte Aufgabenblatt.
 \includepdf[
     pages=-,  % all pages
     addtotoc={
         1, section, 1, Aufgabenstellung, sec:Aufgabenstellung
     }
 ]{angabe.pdf}

% zu 2: Vorbereitung Es sind beide Vorbereitungen dem Protokoll beizufügen.
% \section{Vorbereitung}\label{sec:Vorbereitung}
%Die folgende Vorbereitung wurde vor der Laborübung 
 \includepdf[pages=-,
      addtotoc={
          1, section, 2, Vorbereitung, sec:Vorbereitung
      }]{./figures/DigitaleSchaltung.pdf}
\includepdf[pages=-]{./ecm4_hint.pdf}
% \includepdf[pages=-]{./ecm3_vorbereitung.pdf}


% zu 3: Grundlagen In den Grundlagen sollen die später verwendeten Formeln
% stehen und kurz erklärt werden, dabei ist es nicht notwendig Formeln
% herzuleiten. Quellenangaben sind an dieser Stelle von Vorteil, weil Sie so
% schnell die betreffenden Stellen in Unterlagen finden. In den Rechnungen
% werden grundlegende Annahmen skizziert und begründet und dann mit diesen
% Annahmen, die für die Schaltungen notwendigen Werte berechnet. Dabei kann
% auch gleich auf die später wirklich verwendeten Werte Bezug genommen werden -
% wir verwenden bei den Widerständen zum Beispiel von den Normwert-Reihen die
% E12 und/oder E24 Serie (nach DIN 41426 bzw. IEC 63).
\section{Grundlagen}\label{sec:Grundlagen}
\input{import.tex}

% zu 4: Versuchsdurchführung In diesem Punkt wird die Durchführung der
% einzelnen Aufgaben beschrieben. Im Simulationsteil ist die simulierte
% Schaltung mit allen Analyseparametern darzustellen. Im praktischen Teil sind
% die verwendete Geräte sowie die gemessenen Werte der verwendeten Bauteile
% anzugeben. Außerdem sind durchgeführte Funktionsüberprüfungen der Bauteile
% (Dioden, Transistor, etc.) anzuführen. Die Messergebnisse bzw. Oszillogramme
% sind mit Angabe der verwendeten Messgeräte anzugeben. Oszillogramme werden
% vom verwendeten Oszilloskop als Daten auf einen USB-Stick ausgegeben und
% können in das Protokoll aufgenommen werden. Das gleiche gilt für Schaltungen
% bzw. Ergebnissen von Simulationen. Es ist auf eine klare Darstellung der
% Messergebnisse und –auswertung zu achten (Tabellen, geeignete Grafiken). Die
% originalen, während des Versuchs angefertigten Aufzeichnungen sind dem
% Protokoll beizufügen. 
\section{Versuchsdurchführung}\label{sec:versuchsdurchfuehrung}
%Für den praktischen Teil an der Steckplatine wurden Widerstände der E12-Reihe,
%mit denen die in der Vorbereitung angegebenen respektive errechneten Werte
%angenähert wurden, verwendet.
Da die exakten Komponenten für die logischen Gatter nicht in
\textit{LTspice} zur Verfügung standen, wurden funktionstüchtig-äquivalente
Bauteile in der Simulation verwendet. Die Gegenstücke in der Simulation wurden
unten angeführt.
Die verwendeten Geräte sind \autoref{tab:geraeteliste} zu entnehmen.

\begin{table}
  \caption{Tabelle der verwendeten Geräte}
  \label{tab:geraeteliste}
  \centering
  \begin{tabular}{l|l|l}
    \hline
   \multicolumn{3}{ c }{\textbf{Geräteliste}} \\
    \hline
    \textbf{Gerät/Bauelement} & \textbf{Typ} & \textbf{In Simulation}\\
    \hline
    % Oszilloskop & \textit{Tektronix TDS 2002}\cite{oszilloscope}\\
    % Funktionsgenerator & \textit{H-TRONIC FG250D}\cite{funktionsgenerator} \\
    Netzgerät & nicht bestimmbar\\
    %Multimeter & \textit{Fluke 175 TrueRMS}\cite{fluke175} \\
    % todo references
        NOT-Gatter     &  \textit{74LS04}\cite{74LS04} & 74HCT04      \\
    2x-NAND-Gatter &  \textit{74LS00}\cite{74LS00} & 74HCT00       \\
    3x-NAND-Gatter &  \textit{74LS10}\cite{74LS10} & 74HCT10      \\ 
    JK-MS-FF       &  \textit{74LS109}\cite{74LS109}      & 74HCT109  \\

    \hline
  \end{tabular}
\end{table}

\paragraph{Entprellter Schalter}\label{sec:schalter_aufbau}
%TODO text erklaeren wie der Schalter angesteuert wird und wo er verwendet wurde
Der entprellter Schalter wird als Signalgeber für die logischen Schaltungen und
Gatter verwendet. Der Aufbau dieses Schalters ist in
\autoref{fig:aufbau_schalter} ersichtlich, jedoch ist noch der \textit{GND} mit
Ground und \textit{VCC} mit \SI{5}{\volt} zu beschalten, damit das Signal von
den Schaltern für die jeweilige Betriebsart abgegriffen
werden kann.

Jeder dieser Schalter hat hierbei eine Standard-\textit{HIGH}- bzw.
\textit{LOW}-Betriebsart.

\begin{figure}[H]
  \centering
    \includegraphics[width=0.95\textwidth]{./figures/messungen/schalter.jpg}
  \caption{Dies sind die zwei entprellten Schalterplatinen mit je zwei Schalter
    ($S1$,$S2$) die entweder mit Standard-\textit{HIGH} oder -\textit{LOW} verwendet
    werden können. Diese werden durch Beschalten des \textit{GND} und der \SI{5}{\volt}
    Betriebsspannung in Betrieb genommen}
  \label{fig:aufbau_schalter}
\end{figure}

% dabei sollte man den schalter auf eingangs und Ausgangsspannungen ueber
% pruefen damit man sieht ob er fuer logische schaltung ueberhaupt brauchbar
% ist

\paragraph{LED Leiste}
%TODO text erklaeren wie der Leiste angesteuert wird und wo er verwendet wurde
Damit die Eingangssignale und Ausgangssignale der logischen Schaltungen
dargestellt werden können, wird eine LED-Leiste verwendet. Diese besteht aus
mehreren LEDs mit Vorwiderständen und ist in \autoref{fig:aufbau_led} dargestellt und
unterstützt bis zu 8 Aus- bzw. Eingangssignale. Die hier verwendete LED-Leiste
hat einen Common-Ground und somit werden positiven Spannungssignale direkt an den
verschiedenen Anschlüssen angelegt um die LED zum Leuchten zu bringen.

\begin{figure}[H]
  \centering
  \includegraphics[width=\textwidth, height=6cm,keepaspectratio]{./figures/messungen/ledleiste.jpg}
  \caption{Dies ist die LED-Leiste, welche 8 LEDs mit je einem Vorwiderstand
  hat. Sie ist in Common-Ground-Konfiguration und wird verwendet, um Signal
  anzeigen zu können.}
  \label{fig:aufbau_led}
\end{figure}

Damit die Aufnahmen der Schaltungen übersichtlich bleiben, wurden diese meistens
von den Aufnahmen weggeschnitten und deren Funktion in der jeweiligen Grafik
mittels \textit{LED} dargestellt oder in der Beschriftung gekennzeichnet bzw.
erwähnt.


\subsection{Master-Slave-Flip-Flop}


% 2.1 Die Schaltung ist mit LTspice zu simulieren. Die Eingangspegel sowie die
% Ausgangspegel sind digital darzustellen  
\subsubsection{Simulation}

Die Schaltung des JK-Master-Slave-Flip-Flop (JK-MS-FF) wurde gemäß der
\nameref{sec:Aufgabenstellung} in \autoref{fig:sim_aufbau_jk} in
LTSpice aufgebaut und simuliert. Diese Schaltung wurde mit fünf Eingangspins
und zwei Ausgangspins konstruiert. Die fünf Eingangspins sind \textit{J C K R S},
wobei \textit{S R} die direkten Set und Reset (bzw. PRESET \& CLEAR), \textit{C} das
Clocksignal, \textit{J K} die normalen SET und RESET Pins als Eingänge des
JK-Master-Slave-Flip-Flop sind. 

\begin{figure}[H]
  \centering
  \includegraphics[width=0.95\textwidth]{./figures/sim/jk/aufbaujk.png}
    \caption{Dieser Schaltplan zeigt, den Aufbau eines
      JK-Master-Slave-Flip-Flops. Die verwendeten Bauteile sind in der Grafik
      abgebildet und in \autoref{tab:geraeteliste} nochmals angeführt. Die
      verwendeten Simulationskomponenten im Schaltplan
      ersichtlich.
    Dabei ist:\\
    \textit{J}$\dots$ normaler Set-Eingang\\
    \textit{K}$\dots$ normaler Reset-Eingang\\
    \textit{C}$\dots$ Clocksignal-Eingang\\
    \textit{R}$\dots$ CLEAR-Eingang\\
    \textit{S}$\dots$ PRESET-Eingang\\
    \textit{Q}$\dots$ Ausgang\\
    \textit{$\Bar{Q}$}$\dots$ Invertierter Ausgang\\
  }
  \label{fig:sim_aufbau_jk}
\end{figure}

Nun wurde das Schaltverhalten bei verschiedenen Eingangssignalkombinationen
simuliert. 
Damit die Simulation mit einem bekannten Zustand starten und die
Simulationszeit somit drastisch verringert werden kann, wurde am Anfang ein
direktes Set-Signal am PRESET-Eingang gegeben.
Um die möglichen Kombinationen der Eingangssignale zu erhalten, wurden
die drei für das Verhalten eines JK-MS-FF wichtigen Eingänge \textit{C K J}
mit PWM-Spannungsquellen beschaltet. Wobei \textit{K} die halbe Frequenz von \textit{C} und \textit{J} die
Halbe von \textit{K} hat. Zudem wurde das Clocksignal in \textit{C} um ein Viertel der
Periodendauer verzögert, damit das Schalten der Zustande nie unklar abzulesen
ist.
Die Schaltsignale wurden mit PWM-Signal von \textit{HIGH} \SI{5}{\volt} und
\textit{LOW} \SI{0}{\volt} gegeben. Die genauen SPICE-Directives können dem
Schaltplan aus \autoref{fig:sim_aufbau_jk} entnommen werden. Daraufhin wurde
eine zeitliche Transienten-Analyse der Eingangs- und Ausgangsspannungen
durchgeführt, woraus sich \autoref{fig:sim_jk_wahrheit} ergab. Für die
Transienten-Analyse wurde folgende SPICE-Directive \texttt{.tran 0 0.02 0 0.0001}
verwendet.
\begin{figure}[H]
  \centering
  \includegraphics[width=\linewidth, height=7cm]{./figures/sim/jk/WahrheitstabelleJK.png}
  \caption{Diese Grafik spiegelt das simulierte Verhalten des JK-Master-Slave-Flip-Flops (aus
    \autoref{fig:sim_aufbau_jk}) wider, indem alle möglichen Eingangssignale
    durchgeschaltet worden sind und die Response am Ausgang aufgezeichnet
    wurde (entsprechend der Wahrheitstafel). 
    Dabei ist:\\
    \textit{J}$\dots$ normale Set Eingang\\
    \textit{K}$\dots$ normale Reset Eingang\\
    \textit{C}$\dots$ Clocksignal Eingang\\
    \textit{R}$\dots$ CLEAR Eingang\\
    \textit{S}$\dots$ PRESET Eingang\\
    \textit{Q}$\dots$ Ausgang\\
    \textit{$\Bar{Q}$}$\dots$ Invertierte Ausgang\\
    Die SPICE-Directives der Simulation sind in \autoref{fig:sim_aufbau_jk}
    ersichtlich.}
  \label{fig:sim_jk_wahrheit}
\end{figure}

% 2.2 Das JK-Flipflop ist auf dem Steckboard aufzubauen und auf seine
% Funktionalität zu prüfen. Als Pegelgeber werden für das Steckboard vorhandene
% elektronisch entprellte Schalter verwendet. Die Ein- und Ausgangszustände sind
% durch LED´s anzuzeigen und die Funktionalität der Schaltung ist anhand
% ebendieser zu zeigen.  
% 2.3 Die Ergebnisse sind zu dokumentieren und zu diskutieren. 
\subsubsection{Steckboard}
\paragraph{Aufbau des JK-Master-Slave-Flip-Flop}\label{sec:mess_cmos}
% INSPIRATION
%TODO text
Zunächst wird der JK-Master-Slave-Flip-Flop mittels den logischen Bauelementen
\textit{74LS10} (3x-NAND), \textit{74LS00} (2x-NAND) und \textit{74LS04} (NOT)
nach dem Schaltbild (\autoref{fig:sim_aufbau_jk})
aufgebaut. Zur Visualisierung der Eingänge \textit{C K J} und der
Ausgangszustände $Q$ $\Bar{Q}$ wurden die LEDs der LED-Leiste parallel dazu geschaltet. Das
Eingangssignal für \textit{C K J} wurde durch entprellte Schalter, im Standardzustand
\textit{LOW}, gegeben, dessen Aufbau in \autoref{sec:schalter_aufbau} dargestellt wird. Als
Spannungsquelle wurde ein Netzgerät verwendet und auf \SI{5}{\volt}
eingestellt. Die Eingänge \textit{S R} wurden auf \textit{GND} gelegt, wodurch deren
Negationen, die an die logischen Gatter, wie in \autoref{fig:sim_aufbau_jk} zu sehen, gelegt werden,
auf \textit{HIGH} liegen. Wie immer war darauf zu achten die jeweiligen Pins der integrierten
Bauelemente an die Versorgungsspannung $VCC$ (Pin rechts oben) respektive 
an den $GND$ (Pin links unten) anzuschließen. 
Der Aufbau der Schaltung am Steckbrett ist in \autoref{fig:mess_aufbau_jk} dargestellt.

\begin{figure}[H]
  \centering
    \includegraphics[width=0.95\textwidth]{./figures/messungen/jk/aufbau.png}
  \caption{Dies ist der Aufbau eines JK-Master-Slave-Flip-Flops nach dem
  Schaltplan aus \autoref{fig:sim_aufbau_jk}, wobei:\\
    \textit{J}$\dots$ normaler Set-Eingang\\
    \textit{K}$\dots$ normaler Reset-Eingang\\
    \textit{C}$\dots$ Clocksignal-Eingang\\
    \textit{R}$\dots$ CLEAR-Eingang\\
    \textit{S}$\dots$ PRESET-Eingang\\
    \textit{Q}$\dots$ Ausgang\\
    \textit{$\Bar{Q}$}$\dots$ Invertierter Ausgang\\
    Die Zustände können anhand der LED-Leiste abgelesen werden}
  \label{fig:mess_aufbau_jk}
\end{figure}


Um die Funktionstüchtigkeit des JK-MS-Flip-Flops zu überprüfen, wurde die
Wahrheitstafel aller möglichen Schaltsignale der \textit{K J}-Eingänge
durchgeschaltet, wobei zu beachten ist, dass erst bei fallender Flanke des
Taktsignals \textit{C} das Signal an den Ausgang gelangt. 
Die Resultate sind in \autoref{fig:mess_wahrheitstabelle_jk}
anhand der LEDs ersichtlich.
%TODO text messung
% Als  Pegelgeber wird  für  das  Steckboard  ein vorhandener  elektronisch
% entprellte  Schalter  (mit  Hilfe  eines RS-Flip-Flops)  verwendet.  Der
% Ein-  und Ausgangszustand  ist  jeweils durch  LEDs  anzuzeigen.  Die
% Funktionalität  der Schaltung ist anhand der LEDs zu zeigen.
%TODO figure messung

\begin{figure}[H]
  \centering
    \includegraphics[width=0.95\textwidth]{./figures/messungen/jk/wahrheit.png}
  \caption{Diese Abbildung beinhaltet die Eingangs- und
  Ausgangssignale des aufgebauten JK-Master-Slave-Flip-Flops. Eine leuchtende
  LED entspricht einem \textit{HIGH} Signal, eine nicht leuchtende entspricht
  \textit{LOW}. Rechts neben den LED-Leisten sind die Funktionen der jeweiligen
  Konfiguration zu sehen. Zudem ist:\\ 
    \textit{J}$\dots$ normaler Set-Eingang\\
    \textit{K}$\dots$ normaler Reset-Eingang\\
    \textit{C}$\dots$ Clocksignal-Eingang\\
    \textit{Q}$\dots$ Ausgang\\
  \textit{$\Bar{Q}$}$\dots$ Invertierte Ausgang}
\label{fig:mess_wahrheitstabelle_jk}
\end{figure}


% INSPIRATION
% \paragraph{Aufbau des CMOS-NAND-Gatters}
% Nun ist die CMOS-NOT Schaltung um zwei weitere MOSFETs erweitert worden, um ein
% NAND-Gatter zu bauen. Dies wurde wie in \autoref{fig:sim_aufbau_nand} aufgebaut.
% Es wurden, wie auch in \nameref{sec:mess_cmos}, entprellte Schalter als
% Pegelgeber und die LED-Leiste zur Visualisierung der Pegel (Signale) verwendet.
% Diese wurden ebenfalls an den geeigneten Abnahme-Stellen angeschlossen; wie diese genau
% angeschlossen wurden ist, der \autoref{fig:mess_aufbau_nand} entnehmbar.




\subsection{Dekadischer synchron 4Bit-Zähler}
% 2.1 Die Schaltung ist mit LTspice zu simulieren. Die Eingangspegel sowie die
% Ausgangspegel sind darzustellen. 
\subsubsection{Simulation}

Das Schaltnetz des dekadischen synchronen 4Bit-Zählers wurde in
\autoref{fig:sim_aufbau_4bit} aufgebaut. Dabei ist \textit{CLK} das Eingangssignal
und $Q1$ bis $Q4$ sind die Ausgänge des Zählers, wobei $QN$ dem $(N-1)$ten Bit
entspricht. Wenn nun beispielsweise nur $Q3$ \textit{HIGH} ist, ergibt dies als Zahlenwert 4.

\begin{figure}[H]
  \centering
    \includegraphics[width=\linewidth]{./figures/sim/4bit/aufbau4bit.png}
    \caption{Dieser Schaltplan beschreibt einen 4Bit dekadischen synchron
      Zähler, wie er in \nameref{sec:Aufgabenstellung} gefordert wurde, wobei
      \textit{CLK} das zu zählende Eingangssignal ist und $QN$ die $(N-1)$ten
      Ausgangsbits des Zählers sind. Die verwendeten Komponenten können der
      \autoref{tab:geraeteliste} entnommen werden.}
  \label{fig:sim_aufbau_4bit}
\end{figure}

Damit das Zählverhalten des 4Bit dekadischen Zählers untersucht werden kann,
wird das Eingangssignal \textit{CLK} und die Ausgangssignale $Q1$ bis $Q4$
aufgenommen. Die Simulation wurde so lange betrieben, dass ein Overflow
stattfindet und somit der dekadischen Zähler geresettet wird. 

\begin{figure}[H]
  \centering
    \includegraphics[width=0.95\textwidth]{./figures/sim/4bit/4bitdekawahrheit.png}
  \caption{Diese Grafik spiegelt das Verhalten des
    4Bit dekadischen synchron Zählers (aus \autoref{fig:sim_aufbau_4bit})
    wider, indem bis zum Overflow simuliert wurde und das Eingangssignal sowie
    alle Ausgangssignale aufgezeichnet wurden (entsprechend Wahrheitstafel).
    Dabei sind $QN$ die $(N-1)$.ten Bits des Zählers und \textit{CLK} das zu zählende
    Eingangssignal. Die SPICE-Directive der Simulation ist \texttt{.tran 0 20 0}; die
    Einstellung des Eingangssignals kann der \autoref{fig:sim_aufbau_4bit}
    entnommen werden.}
  \label{fig:sim_alarm_wahrheit}
\end{figure}


% 2.2 Die Schaltung ist am Steckboard aufzubauen und ihre Funktionalität zu
% zeigen (siehe Aufgabenstellung A). 
% 2.3 Die Ergebnisse sind zu dokumentieren und zu diskutieren. 
\subsubsection{Steckboard}
Zunächst wird der dekadische synchron 4bit-Zähler an der Steckplatine
mittels den integrierten Bauelementen \textit{74LS109} (JK-MS-Flip-Flop), 
\textit{74LS00} (2x-NAND) und \textit{74LS04} (NOT)
nach dem Schaltbild (\autoref{fig:sim_aufbau_4bit})
aufgebaut. Zur Visualisierung des Eingangssignals \textit{C} und der
Ausgangszustände $Q1$ bis $Q4$ wurden die LEDs der LED-Leiste parallel dazu geschaltet. Das
Eingangssignal für \textit{C} wurde durch einen entprellten Schalter, im Standardzustand
\textit{LOW}, gegeben, dessen Aufbau in \autoref{sec:schalter_aufbau} dargestellt wird. Als
Spannungsquelle wurde ein Netzgerät verwendet und auf \SI{5}{\volt}
eingestellt. Wie immer war darauf zu achten die jeweiligen Pins der integrierten
Bauelemente an die Versorgungsspannung $VCC$ (Pin rechts oben) respektive 
an den $GND$ (Pin links unten) anzuschließen.
Der Aufbau der Schaltung am Steckbrett kann \nameref{fig:mess_aufbau_4bit}
entnommen werden.
%Wie in \nameref{sec:Aufgabenstellung} gefordert, galt es eine dekadischen synchronen
%4bit-Zähler zu ent
%zu entwickeln, welche durch Anschlagen mindestens zweier Sensoren einen Alarm auslösen
%sollte. Diese Schaltung wurde, um die Fehlerquellen zu reduzieren, jedoch aus der
%Musterlösung entnommen und nicht die selbst Entworfene verwendet. Die vier
%Eingangsgrößen ($x1$, $x2$, $x3$, $x4$) wurden durch vier entprellte
%Schalter realisiert. Dabei sind $x1$ \& $x3$ im Standard \textit{LOW} und
%$x2$ \& $x4$ Standard \textit{HIGH} Betrieb geschaltet worden, damit die
%Alarmanlage bei Signalunterbrechung $x2$ \& $x4$ und einem Signal bei $x1$
%\& $x3$ anschlägt. 

%TODO figure
\begin{figure}[H]
  \centering
    \includegraphics[width=0.95\textwidth]{./figures/messungen/4bit/aufbau.png}
  \caption{Dies ist der Aufbau des dekadischen synchron 4Bit-Zähler nach dem
  Schaltplan aus \autoref{fig:sim_aufbau_4bit}.
Dabei sind $QN$ die $(N-1)$ten Bits des Zählers und \textit{C} das zu zählende
Eingangssignal.
  Die verwendeten Komponenten
  sind der \autoref{tab:geraeteliste} zu entnehmen.}
  \label{fig:mess_aufbau_4bit}
\end{figure}

% Die Ein- und Ausgangszustände sind durch LED´s anzuzeigen und die
% Funktionalität der Schaltung ist anhand ebendieser zu zeigen.
Um die Funktionstüchtigkeit des 4Bit dekadischen synchron Zählers zu
überprüfen, wurde der entprellte Schalter für \textit{C} so oft betätigt, dass ein
gesamter Durchlauf von 0 bis 9 im Binärsystem an den $QN$ erfolgte, 
wobei bei der darauffolgenden Betätigung
des Schalters der Zähler anstelle von 10 auf 0 zurückgesetzt wird. 
Somit konnte die Zählfähigkeit der Schaltung
mittels LEDs an den Ausgängen $QN$ dargestellt werden. Die Kombinationen sind
in \autoref{fig:mess_wahrheitstabelle_alarm} ersichtlich.

%TODO figure messung
\begin{figure}[H]
  \centering
    \includegraphics[width=0.95\textwidth,height=13cm]{./figures/messungen/4bit/wahrheit.png}
  \caption{Diese Abbildung beinhaltet die gemessenen logischen Ausgangszustände
    der $QN$ Ausgänge bei einer Serie an Eingangspulsen. Dabei sind $QN$ die
    $(N-1)$.ten Bits des aufgebauten 4Bit dekadischen synchron Zählers. Die Zahlen
    in der rechten Spalte entsprechen dem j.-ten gegebenen Puls im
  Eingangssignal \textit{C}. Eine leuchtende LED entspricht einem
\textit{HIGH}-, eine nicht leuchtende entspricht einem \textit{LOW}-Signal}
  \label{fig:mess_wahrheitstabelle_alarm}
\end{figure}

% Für die Untersuchung des Master-Switches im ausgeschalteten Zustand wurden die
% zuvor \textit{wahren} Eingangssignalkombinationen durchgeschaltet und überprüft, ob diese
% nicht die Alarmanlage ($y$) anschlagen lassen. Da die Schaltung zuvor, wie in
% \autoref{fig:mess_wahrheitstabelle_alarm} ersichtlich, funktionierte, ist
% dadurch die Funktionstüchtigkeit des Master-Switches gezeigt.

% zu 4: Auswertung siehe EPM Skript nur Besprechung von Umformungen und 
% Sachen die man mit den Messungen machen muss damit man Conclusion und Wissen 
% gewinnen kann.
% Entsprechend der in Punkt 2. angegebenen Beziehungen (Formeln) ist aus den
% Messergebnissen in Punkt 5. das in Punkt 1. formulierte Endergebnis zu
% berechnen. Oft ist eine Ermittlung des Endergebnisses aus einer grafischen
% Darstellung bzw. eine grafische Veranschaulichung zweckmaßig. Dabei kann
% die Verwendung von Millimeterpapier oder Computerprogrammen hilfreich sein.
% Wenn eine Bearbeitung der Daten auf dem Computer erfolgt, sollte bei der
% Darstellung der Graphen eine sinnvolle Skalenteilung des Koordinatensystems
% gemacht werden. Die Unsicherheitsbetrachtung f ̈ur die angegebenen Messwerte,
% sowie fur Zwischen- und Endergebnisse ist in diesem Abschnitt
% nachvollziehbar zu beschreiben. Dabei ist nach Kapitel 1 vorzugehen und
% insbesondere auf die Klassifizierung der Unsicherheit (Typ-A/B) und die
% Unsicherheitsfortpflanzung einzugehen.
\section{Auswertung}\label{sec:Auswertung}
In diesem Protokoll ist keine Auswertung von Nöten, da die geforderten Resultate
direkt aus den Ergebnissen der Laborübung folgen. Dennoch wurde für bessere 
Nachvollziehbarkeit die Daten aus \autoref{fig:sim_jk_wahrheit} nochmals mit Farben
hinterlegt und die \textit{HIGH} Zustände mit einer 1 markiert und \textit{LOW} mit 0. Weiters wurden die Aktionen noch dazu beschriftet.

\begin{figure}[H]
  \centering
    \includegraphics[width=0.95\textwidth]{./figures/sim/jk/auswertungjk.jpg}
  \caption{
Diese Grafik spiegelt das simulierte Verhalten des JK-Master-Slave-Flip-Flops (aus
    \autoref{fig:sim_aufbau_jk}) wider, indem alle möglichen Eingangssignale
    durchgeschaltet worden sind und die Response am Ausgang aufgezeichnet
    wurde (entsprechend der Wahrheitstafel). 
    Dabei ist:\\
    \textit{J}$\dots$ normale Set Eingang\\
    \textit{K}$\dots$ normale Reset Eingang\\
    \textit{C}$\dots$ Clocksignal Eingang\\
    \textit{R}$\dots$ CLEAR Eingang\\
    \textit{S}$\dots$ PRESET Eingang\\
    \textit{Q}$\dots$ Ausgang\\
    \textit{$\Bar{Q}$}$\dots$ Invertierte Ausgang\\
    Die SPICE-Directives der Simulation sind in \autoref{fig:sim_aufbau_jk}
    ersichtlich; die Einstellungen der Eingangssignale können auch der \autoref{fig:sim_aufbau_4bit}
  entnommen werden. Zudem wurden hier die Ticks von einander mittels orange gepunkteten Linien getrennt und die \textit{HIGH} mit 1er und \textit{LOW} mit 0er markiert.}
  \label{fig:sim_alarm_wahrheit_aus}
\end{figure}

% zu 5: Diskussion und Zusammenfassung
% In der Zusammenfassung stehen noch einmal die wichtigsten Messergebnisse, wobei auf Tabellen und
% Abbildungen nur verwiesen werden soll. Die Ergebnisse sind auch zu diskutieren. Insbesondere müssen
% Abweichungen zwischen Simulation und praktischer Durchführung diskutiert werden.
\section{Diskussion und Zusammenfassung}\label{sec:Diskussion} 
\subsection{Diskussion}
In \autoref{fig:sim_jk_wahrheit} von der Simulation und
\autoref{fig:mess_wahrheitstabelle_jk}, welche die LEDs vom Steckbrett zeigt,
ist das Verhalten eines JK-MS-Flip-Flop gut zu erkennen; bei fallender Flanke 
des Taktsignals \textit{C} wird das Signal an den Ausgang übertragen und 
es wird je nach Zuständen der Eingangssignalen
\textit{J} und \textit{K} während der steigender Flanke der Taktung eine Funktion nach
der Wahrheitstabelle in \autoref{sec:Vorbereitung} (Vorbereitung) 
erhalten - also \textit{Set} (\textit{J}=1, \textit{K}=0),
\textit{Reset} (\textit{J}=0, \textit{K}=1), \textit{Togglen} (\textit{J}=1, \textit{K}=1) 
oder \textit{Speicherung} (\textit{J}=0, \textit{K}=0).
%Weiters ist anhand von \autoref{fig:sim_jk_wahrheit} aus der Simulation ersichtlich, dass
%der Schaltvorgang in CMOS endlich schnell erfolgt. Dabei ist ein deutliches
%Maximum des Stroms von \SI{4,21}{\milli \ampere} zu erkennen (siehe \autoref{fig:sim_inv_eingangsstrom}), 
%wenn (im Falle des Inverters) beide MOSFETs
%leitfähig sind, nämlich am Schnittpunkt der Spannungsverläufe.
%Die Spannung an diesen Schnittpunkten beträgt \SI{1,63}{\volt} 
%(siehe \autoref{fig:sim_inv_threshold}) und liegt
%somit innerhalb der für die Gate-Source-Spannung toleranten Intervalle
%von \SIrange{0.8}{2.4}{\volt} beim \textit{ZVN2106A} und von
%\SIrange{-3.5}{-1.5}{\volt} beim \textit{ZVP2106A} nach den zugehörigen Datenblättern.

%Das aus MOSFETs konstruierte NAND liefert als Ergebnis aller möglichen
%Kombinationen der beiden Eingangssignale \autoref{fig:sim_nand_wahrheit} für die Simulation
%und \autoref{fig:mess_wahrheitstabelle_nand} für die Steckbrettschaltung.
%Somit folgt der Verhalt jenem, der in der Wahrheitstabelle in \autoref{sec:Vorbereitung}
%(Vorbereitung) notiert wurde - der Ausgang ist stets \texttt{HIGH}, außer wenn
%beide Eingänge auf \texttt{High} sind.

Der Zähler, dessen Funktion in \autoref{fig:sim_alarm_wahrheit} für
die Simulation
und \autoref{fig:mess_wahrheitstabelle_alarm} mittels LED für die Steckbrettschaltung dargestellt wird,
zählt, wie gefordert, über die Bits $QN$ bei jedem Taktsignal um 1 rauf bis zum 10. Taktsignal, wo der Reset erfolgt.
Anhand von Abbildung \ref{fig:sim_alarm_wahrheit} der Simulation ist jedoch beim 10. Taktsignal, dem
eigentlichen Reset-Punkt,
bei $Q2$ ein steiler Anstieg und sofort darauffolgender Abfall des Spannungssignals zu erkennen. 
Dies liegt daran, dass der Reset erst dann erfolgt, wenn an $Q2$ und $Q4$ gleichzeitig \textit{HIGH} vorliegt,
da erst dadurch das NAND, das der Ansteuerung der (NOT-)CLEAR-Eingänge der Flip-Flops dient, ein \textit{LOW}-Signal
liefert.
%Demnach löst der Alarm aus, sofern der \textit{Master-Switch} eingeschaltet ist, 
%wenn mindestens
%zwei Eingangsvariablen auf \texttt{HIGH} sind.


%Es wäre wohl vernünftiger gewesen, die Schaltung an der Steckplatine zunächst aufzubauen, um etwaige 
%Ungenauigkeiten durch die Widerstände 
\subsection{Zusammenfassung}
Im Rahmen dieser Laborübung wurde das Verhalten von einem JK-MS-Flip-Flop (siehe \autoref{fig:sim_jk_wahrheit}
respektive \autoref{fig:mess_wahrheitstabelle_jk}) und einem dekadischen synchron 4bit-Zähler
(siehe \autoref{fig:sim_alarm_wahrheit}
respektive \autoref{fig:mess_wahrheitstabelle_alarm}) erfolgreich mittels 
Simulation und mithilfe von LEDs an Steckbrettschaltungen
verifiziert.
\newpage

\printbibliography

\listoffigures

\listoftables



\end{document}

